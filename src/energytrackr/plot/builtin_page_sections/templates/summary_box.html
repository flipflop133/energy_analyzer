{% extends "base.html" %}

{% block title %}Summary — {{ project_name }}{% endblock %}

{% block content %}
<div class="card">
    <h2 class="mb-6 text-xl font-semibold">Summary — {{ column }}</h2>

    <div class="summary-grid">
        <div class="summary-label">Project</div>
        <div class="summary-value">{{ project_name }}</div>

        <div class="summary-label">Total commits</div>
        <div class="summary-value">{{ total_commits }}</div>

        <div class="summary-label">Commit range</div>
        <div class="summary-value">
            <span title="Latest">{{ latest_commit_hash }}</span>
            <small class="text-muted">({{ latest_commit_date }})</small>
            &ndash;
            <span title="Oldest">{{ oldest_commit_hash }}</span>
            <small class="text-muted">({{ oldest_commit_date }})</small>
        </div>

        <div class="summary-label">Significant changes</div>
        <div class="summary-value">
            {{ significant_changes }}
            <span class="badge red">↑ {{ regressions }}</span>
            <span class="badge green">↓ {{ improvements }}</span>
        </div>

        <div class="summary-label">Mean energy</div>
        <div class="summary-value">{{ mean_energy|round(2) }} J</div>

        <div class="summary-label">Median energy</div>
        <div class="summary-value">{{ median_energy|round(2) }} J</div>

        <div class="summary-label">Std dev</div>
        <div class="summary-value">{{ std_energy|round(2) }} J</div>

        <div class="summary-label">Normal dists</div>
        <div class="summary-value">{{ normal_count }} / {{ total_commits }}</div>

        <div class="summary-label">Outliers removed</div>
        <div class="summary-value">{{ outliers_removed }}</div>
    </div>
</div>
{% endblock %}